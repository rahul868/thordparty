<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Read PDF in JavaScript</title>
</head>
<body>

<input type="file" id="pdfInput" accept=".pdf" />

<script>
document.getElementById('pdfInput').addEventListener('change', function (event) {
    const file = event.target.files[0];

    if (file) {
        const reader = new FileReader();

        reader.onload = function (e) {
            const pdfData = new Uint8Array(e.target.result);
            console.log(pdfData)
            // Parse PDF data
            const pdfObjects = parsePDF(pdfData);

            // Do something with the parsed data
            console.log(pdfObjects);
        };

        reader.readAsArrayBuffer(file);
    }
});

function parsePDF(pdfData) {
    // This is a highly simplified example and doesn't cover the entire PDF specification
    const objects = [];
    const data = pdfData.toString();
    const objectMatches = data.match(/(\d+)\s+(\d+)\s+obj([\s\S]*?)endobj/g);

    if (objectMatches) {
        for (const match of objectMatches) {
            const objectId = match.match(/(\d+)\s+(\d+)\s+obj/)[1];
            const objectContent = match.match(/obj([\s\S]*?)endobj/)[1].trim();

            objects.push({
                id: objectId,
                content: objectContent
            });
        }
    }

    return objects;
}
</script>

</body>
</html>
